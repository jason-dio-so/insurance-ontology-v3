# 🎨 프론트엔드 가이드

ChatGPT 스타일의 보험 온톨로지 AI 챗봇 프론트엔드 사용 가이드입니다.

## 📋 목차

1. [시작하기](#시작하기)
2. [UI 구성](#ui-구성)
3. [사용 방법](#사용-방법)
4. [쿼리 템플릿](#쿼리-템플릿)
5. [커스터마이징](#커스터마이징)

---

## 🚀 시작하기

### 방법 1: 스크립트 사용 (추천)

**터미널 1 - 백엔드 실행:**
```bash
./start_backend.sh
```

**터미널 2 - 프론트엔드 실행:**
```bash
./start_frontend.sh
```

### 방법 2: 수동 실행

**백엔드:**
```bash
uvicorn api.server:app --reload --host 0.0.0.0 --port 8000
```

**프론트엔드:**
```bash
cd frontend
npm install  # 처음 한 번만
npm run dev
```

### 접속

- **프론트엔드**: http://localhost:5173
- **백엔드 API**: http://localhost:8000
- **API 문서**: http://localhost:8000/docs

---

## 🖥️ UI 구성

### 왼쪽 사이드바 (쿼리 템플릿)

```
┌─────────────────────┐
│  [+ 새 대화]        │
├─────────────────────┤
│  [검색창]           │
├─────────────────────┤
│  [카테고리 필터]    │
│  ○ 전체             │
│  ○ 상품 비교        │
│  ○ 담보 조회        │
│  ○ 가입 조건        │
│  ○ 보험료           │
│  ○ 보장 내용        │
├─────────────────────┤
│                     │
│  쿼리 템플릿 목록   │
│  ▸ 암진단비 비교    │
│  ▸ 수술비 비교      │
│  ▸ 보장금액 확인    │
│  ...                │
│                     │
└─────────────────────┘
```

### 오른쪽 채팅 인터페이스

```
┌────────────────────────────────┐
│  보험 온톨로지 AI 챗봇          │
├────────────────────────────────┤
│                                │
│  💬 대화 영역                  │
│                                │
│  👤 사용자 질문                │
│  🤖 AI 응답                    │
│     ├─ 텍스트 답변             │
│     ├─ 비교 테이블 (선택)      │
│     └─ 참고 자료 (선택)        │
│                                │
├────────────────────────────────┤
│  [질문 입력창]                 │
│  [전송 버튼]                   │
└────────────────────────────────┘
```

---

## 💡 사용 방법

### 1. 템플릿으로 시작하기

1. 왼쪽 사이드바에서 원하는 카테고리 선택
2. 템플릿 클릭
3. 자동으로 입력창에 예시 질문이 채워짐
4. Enter 또는 전송 버튼 클릭

### 2. 직접 질문하기

1. 하단 입력창에 질문 입력
2. Enter로 전송 (Shift+Enter로 줄바꿈)
3. AI 응답 대기

### 3. 비교 테이블 보기

여러 회사를 비교하는 질문을 하면 자동으로 표 형태로 표시됩니다:

**예시 질문:**
```
삼성화재와 현대해상의 암진단비를 비교해주세요
```

**응답:**
- 텍스트 설명
- 📊 비교 테이블 (회사별, 상품별, 보장금액 등)
- 📄 참고 자료 (원본 문서)

---

## 📝 쿼리 템플릿

### 상품 비교

| 템플릿 | 예시 질문 |
|--------|-----------|
| 암진단비 비교 | 삼성화재와 현대해상의 암진단비를 비교해주세요 |
| 수술비 비교 | KB손보와 DB손보의 암 수술비를 비교해주세요 |
| 입원비 비교 | 롯데손보와 한화손보의 입원일당을 비교해주세요 |

### 담보 조회

| 템플릿 | 예시 질문 |
|--------|-----------|
| 보장금액 확인 | 삼성화재 암진단비는 얼마인가요? |
| 보장 조건 | 뇌출혈 진단비는 어떤 조건에서 지급되나요? |
| 담보 목록 | 삼성화재 마이헬스 파트너의 모든 암 관련 담보를 알려주세요 |

### 가입 조건

| 템플릿 | 예시 질문 |
|--------|-----------|
| 연령별 가입 | 40세 남성이 가입할 수 있는 암보험은? |
| 건강상태별 가입 | 고혈압이 있어도 가입할 수 있는 상품은? |
| 성별 특화 상품 | 여성 전용 암보험 상품이 있나요? |

### 보험료

| 템플릿 | 예시 질문 |
|--------|-----------|
| 보험료 계산 | 35세 여성의 월 보험료는 얼마인가요? |
| 보험료 비교 | 삼성과 현대의 월 보험료를 비교해주세요 |

### 보장 내용

| 템플릿 | 예시 질문 |
|--------|-----------|
| 특정 질병 보장 | 갑상선암도 보장되나요? |
| 보장 제외 항목 | 유사암은 어떤 것이 있나요? |
| 갱신형 여부 | 표적항암약물치료비는 갱신형인가요? |

---

## 🎨 커스터마이징

### 새로운 쿼리 템플릿 추가

`frontend/src/data/queryTemplates.ts` 파일 수정:

```typescript
{
  id: 'my-new-template',
  category: '상품 비교',
  title: '새로운 템플릿',
  description: '설명',
  example: '예시 질문',
  tags: ['태그1', '태그2'],
}
```

### 색상 변경

`frontend/tailwind.config.js` 파일의 `theme.extend.colors` 섹션 수정:

```javascript
colors: {
  'chat-bg': '#343541',        // 채팅 배경
  'sidebar-bg': '#202123',     // 사이드바 배경
  'user-msg': '#343541',       // 사용자 메시지 배경
  'assistant-msg': '#444654',  // AI 메시지 배경
}
```

### API 엔드포인트 변경

`frontend/src/services/api.ts` 파일의 `API_BASE_URL` 수정:

```typescript
const API_BASE_URL = 'http://localhost:8000';  // 여기 수정
```

---

## 🐛 문제 해결

### 프론트엔드가 시작되지 않을 때

```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### API 연결 오류

1. 백엔드가 실행 중인지 확인: http://localhost:8000/health
2. CORS 설정 확인: `api/server.py`의 `allow_origins`
3. 브라우저 콘솔에서 에러 메시지 확인

### 빌드 오류

```bash
cd frontend
npm run build -- --debug
```

---

## 📚 추가 리소스

- [React 문서](https://react.dev/)
- [Tailwind CSS 문서](https://tailwindcss.com/)
- [Vite 문서](https://vitejs.dev/)
- [FastAPI 문서](https://fastapi.tiangolo.com/)

---

## 🎯 다음 단계

1. ✅ 기본 UI 완성
2. ⬜ 사용자 프로필 저장
3. ⬜ 대화 히스토리 저장
4. ⬜ PDF 다운로드 기능
5. ⬜ 음성 입력 지원
6. ⬜ 다크/라이트 모드

---

**문의사항이 있으시면 이슈를 등록해주세요!** 🙌
